<?xml version="1.0" encoding="UTF-8"?>
<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd">

    <!-- 缓存持久化地址 -->
    <diskStore path="java.io.tmpdir"/>

    <!--
       name:缓存名称。
       maxElementsInMemory：缓存在内存的最大个数。0不限制
       maxElementsOnDisk：缓存在硬盘的最大个数。
       eternal:对象是否永久有效，设置为true，timeout不起作用。
       timeToIdleSeconds：设置对象在失效前的允许闲置时间（单位：秒）。当eternal=false对象不是永久有效时使用，可选属性，默认0，可闲置时间无穷大。
       timeToLiveSeconds：设置对象在失效前允许存活时间（单位：秒）。最大时间介于创建时间和失效时间之间。仅当eternal=false对象不是永久有效时使用，默认0.对象存活时间无穷大。
       overflowToDisk：当内存中对象数量达到maxElementsInMemory时，是否写到磁盘中。
       diskPersistent：缓存持久化，设置为true时，缓存将会备份到硬盘中，重启时，会把硬盘中的备份恢复到内存中
       diskSpoolBufferSizeMB：这个参数设置DiskStore（磁盘缓存）的缓存区大小。默认是30MB。每个Cache都应该有自己的一个缓冲区。
       memoryStoreEvictionPolicy：当达到maxElementsInMemory限制时，据指定的策略去清理内存。默认策略LRU（最近最少使用）。可选FIFO（先进先出）或是LFU（较少使用）。
       注意:
       （1）eternal（不朽的），true表示缓存永久有效，false表示不为永久有效
       （2）主要是timeToLiveSeconds 和timeToIdleSeconds 之间的使用（单独配置时，以上已说明）
       （3）举例说明：timeToLiveSeconds =3600 timeToIdleSeconds =300
       （4）以上配置代表缓存有效时间为3600秒（自缓存建立起一个小时有效 ），在有效的一个小时内，如果连续五分钟未访问缓存，则缓存失效，特别说明的是，就算缓存访问从未间断，到一个小时后，缓存也会失效
    -->

    <!-- JWT令牌缓存 180秒不访问时会过期 -->
    <cache name="jwt"
           maxElementsInMemory="0"
           eternal="false"
           timeToIdleSeconds="0"
           timeToLiveSeconds="180"
           overflowToDisk="false"
           diskPersistent="false">
    </cache>

    <!--
    验证码缓存（坐标与AES密钥） 有效期3分钟，校验后不论是否通过都立即删除
    MD5哈希随机盐缓存，有效期3分钟，只是用一次，不论是否校验通过都立即删除
    -->
    <cache name="captcha"
           maxElementsInMemory="0"
           eternal="false"
           timeToIdleSeconds="0"
           timeToLiveSeconds="180"
           overflowToDisk="false"
           diskPersistent="false">
    </cache>

    <!-- 限流缓存 禁止访问1分钟 -->
    <cache name="lock"
           maxElementsInMemory="0"
           eternal="false"
           timeToIdleSeconds="0"
           timeToLiveSeconds="60"
           overflowToDisk="false"
           diskPersistent="false">
    </cache>

</ehcache>